<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœªæ¥è´¢å¯Œè®¡ç®—å™¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
        }
        .section {
            margin-bottom: 20px;
        }
        label {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }
        .buttons {
            margin: 10px 0;
        }
        input[type="number"] {
            margin-left: 10px;
            width: 80px;
        }
        .output {
            margin-top: 20px;
            font-size: 1.2em;
            color: #333;
        }
        .highlight {
            color: #d9534f;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>æœªæ¥è´¢å¯Œè®¡ç®—å™¨</h1>

    <!-- æŠ•èµ„é¢ -->
    <div class="section">
        <label for="investment">æŠ•èµ„é¢ï¼ˆå…ƒï¼‰ï¼š</label>
        <div class="buttons">
            <button onclick="setValue('investment', 10)">10</button>
            <button onclick="setValue('investment', 100)">100</button>
            <button onclick="setValue('investment', 500)">500</button>
            <button onclick="setValue('investment', 1000)">1000</button>
            <button onclick="setValue('investment', 5000)">5000</button>
            <button onclick="setValue('investment', 10000)">10000</button>
        </div>
        <input type="range" id="investment" min="0" max="20000" step="100" value="1000" oninput="updateLabel('investment', 'investmentLabel')">
        <span id="investmentLabel">1000</span> å…ƒ
        <input type="number" id="investmentInput" value="1000" min="0" max="20000" oninput="syncInput('investmentInput', 'investment')">
    </div>

    <!-- ç»¼åˆå¤åˆ©ç‡ -->
    <div class="section">
        <label for="rate">ç»¼åˆå¤åˆ©ç‡ï¼ˆ%ï¼‰ï¼š</label>
        <div class="buttons">
            <button onclick="setValue('rate', 2)">2%</button>
            <button onclick="setValue('rate', 5)">5%</button>
            <button onclick="setValue('rate', 10)">10%</button>
            <button onclick="setValue('rate', 20)">20%</button>
            <button onclick="setValue('rate', 50)">50%</button>
            <button onclick="setValue('rate', 100)">100%</button>
        </div>
        <input type="range" id="rate" min="1" max="300" step="1" value="5" oninput="updateLabel('rate', 'rateLabel')">
        <span id="rateLabel">5</span> %
        <input type="number" id="rateInput" value="5" min="1" max="300" oninput="syncInput('rateInput', 'rate')">
    </div>

    <!-- æ—¶é—´ -->
    <div class="section">
        <label for="time">æ—¶é—´ï¼ˆå¹´ï¼‰ï¼š</label>
        <div class="buttons">
            <button onclick="setValue('time', 1)">1å¹´</button>
            <button onclick="setValue('time', 5)">5å¹´</button>
            <button onclick="setValue('time', 10)">10å¹´</button>
            <button onclick="setValue('time', 20)">20å¹´</button>
            <button onclick="setValue('time', 50)">50å¹´</button>
            <button onclick="setValue('time', 100)">100å¹´</button>
        </div>
        <input type="range" id="time" min="1" max="200" step="1" value="10" oninput="updateLabel('time', 'timeLabel')">
        <span id="timeLabel">10</span> å¹´
        <input type="number" id="timeInput" value="10" min="1" max="200" oninput="syncInput('timeInput', 'time')">
    </div>

    <!-- è®¡ç®—æŒ‰é’® -->
    <button onclick="calculateWealth()">è®¡ç®—æœªæ¥è´¢å¯Œ</button>

    <!-- è¾“å‡ºç»“æœ -->
    <div class="output" id="output">ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œã€‚</div>

    <script>
        // æ›´æ–°æ»‘å—æ ‡ç­¾
        function updateLabel(sliderId, labelId) {
            const value = document.getElementById(sliderId).value;
            document.getElementById(labelId).innerText = value;
        }

        // è¾“å…¥æ¡†ä¸æ»‘å—åŒæ­¥
        function syncInput(inputId, sliderId) {
            const value = document.getElementById(inputId).value;
            document.getElementById(sliderId).value = value;
            updateLabel(sliderId, sliderId + 'Label');
        }

        // è®¾ç½®æ»‘å—å€¼
        function setValue(sliderId, value) {
            document.getElementById(sliderId).value = value;
            document.getElementById(sliderId + "Input").value = value;
            updateLabel(sliderId, sliderId + 'Label');
        }

        // è®¡ç®—æœªæ¥è´¢å¯Œ
        function calculateWealth() {
            const P = parseFloat(document.getElementById('investment').value); // æ¯æœŸæŠ•èµ„é¢
            const r = parseFloat(document.getElementById('rate').value) / 100; // å¹´åŒ–å¤åˆ©ç‡
            const m = 12; // æ¯å¹´å®šæŠ•æ¬¡æ•°ï¼ˆæœˆå®šæŠ•ï¼‰
            const n = parseFloat(document.getElementById('time').value); // æŠ•èµ„æ—¶é—´

            // è®¡ç®—æ€»è´¢å¯Œå€¼
            const totalPeriods = m * n;
            const periodicRate = r / m;
            const futureValue = P * (Math.pow(1 + periodicRate, totalPeriods) - 1) / periodicRate;

            // è®¡ç®—è¾¾åˆ°ç›®æ ‡é‡‘é¢çš„æ—¶é—´
            const targets = [
                { amount: 1000000, title: "ç™¾ä¸‡å¯Œç¿" },
                { amount: 10000000, title: "åƒä¸‡å¯Œç¿" },
                { amount: 100000000, title: "äº¿ä¸‡å¯Œç¿" }
            ];
            let targetResults = "";

            targets.forEach((target) => {
                let currentWealth = 0;
                let months = 0;

                while (currentWealth < target.amount) {
                    months++;
                    currentWealth = P * (Math.pow(1 + periodicRate, months) - 1) / periodicRate;
                }

                const years = Math.floor(months / 12);
                const remainingMonths = months % 12;
                targetResults += `<br>ğŸ‰ æ­å–œä½ ï¼Œä½ å°†åœ¨ <span class="highlight">${years} å¹´ ${remainingMonths} æœˆ</span> åæˆä¸º <span class="highlight">${target.title}</span>ï¼`;
            });

            // æ˜¾ç¤ºç»“æœ
            const outputDiv = document.getElementById('output');
            outputDiv.innerHTML = `
                å¦‚æœæ‚¨æ¯æœˆæŠ•èµ„ <strong>${P.toFixed(2)} å…ƒ</strong>ï¼Œ
                ä»¥ <strong>${(r * 100).toFixed(2)}%</strong> çš„å¹´åŒ–å¤åˆ©ç‡æŠ•èµ„ <strong>${n} å¹´</strong>ï¼Œ
                æ‚¨çš„æœªæ¥è´¢å¯Œå°†è¾¾åˆ°ï¼š<span class="highlight">${futureValue.toFixed(2)} å…ƒ</span>ã€‚
                ${targetResults}
            `;
        }
    </script>
</body>
</html>
